<!--
 ~	Copyright © WebServices pour l'Éducation, 2014
 ~
 ~ This file is part of ENT Core. ENT Core is a versatile ENT engine based on the JVM.
 ~
 ~ This program is free software; you can redistribute it and/or modify
 ~ it under the terms of the GNU Affero General Public License as
 ~ published by the Free Software Foundation (version 3 of the License).
 ~
 ~ For the sake of explanation, any module that communicate over native
 ~ Web protocols, such as HTTP, with ENT Core is outside the scope of this
 ~ license and could be license under its own terms. This is merely considered
 ~ normal use of ENT Core, and does not fall under the heading of "covered work".
 ~
 ~ This program is distributed in the hope that it will be useful,
 ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
 ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 ~
 -->

 <header class="header no-1d" ng-controller="Account">
  <nav class="navbar navbar-expand-md">
    <div class="mobile-nav-opener"></div>  
    <div class="container-fluid">
      <a class="navbar-brand d-none d-md-block" href="/timeline/timeline">
        <img class="logo" src="/assets/themes/[[skin.skin]]/img/illustrations/logo.png" alt="Logo de l'ENT">
      </a>
      <ul class="navbar-nav">
        <li class="nav-item">
          <a href="/timeline/timeline" class="nav-link" tooltip="navbar.home">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true" color="#fff">
              <path
                d="M20.584 13.536v7.458c0 .28-.098.512-.294.699a1.062 1.062 0 0 1-.667.307H13.91v-5.978h-3.817V22H4.383a.848.848 0 0 1-.668-.307 1.162 1.162 0 0 1-.293-.699v-7.569l8.567-7.375 8.568 7.375c.018.018.027.055.027.111Zm3.31-1.09-.908 1.146a.543.543 0 0 1-.32.168h-.054a.59.59 0 0 1-.32-.084L11.989 4.682 1.687 13.676a.505.505 0 0 1-.347.084.544.544 0 0 1-.32-.168l-.935-1.145a.524.524 0 0 1-.08-.363.589.589 0 0 1 .16-.335l10.703-9.33c.32-.28.694-.419 1.121-.419.427 0 .81.14 1.148.419l3.63 3.156V2.56c0-.15.044-.27.133-.363a.458.458 0 0 1 .347-.14h2.856c.143 0 .258.046.347.14a.504.504 0 0 1 .134.363v6.34l3.256 2.85c.107.074.16.186.16.335 0 .149-.036.27-.107.363Z"
                fill="currentColor"></path>
            </svg>
            <span class="nav-text">
              <i18n>navbar.home</i18n>
            </span>
          </a>
        </li>
        <li class="nav-item position-relative popover-trigger" id=":r2:" aria-haspopup="true" aria-expanded="false"
          pulsar="{ index: 3, i18n: 'portal.pulsar.apps', position: 'bottom center'}">
          <a href="/welcome" i18n-title="navbar.applications" class="nav-link" ng-click="openApps($event)">
            <svg tooltip="navbar.applications" width="24" height="24" viewBox="0 0 24 24" fill="none"
              xmlns="http://www.w3.org/2000/svg" aria-hidden="true" color="#fff">
              <path
                d="M1.898 22.555c-.072-.145-.096-1.37-.048-2.691l.048-2.402h5.261v5.26l-2.595.049c-1.994.048-2.594 0-2.666-.216Zm7.76 0c-.049-.145-.073-1.37-.049-2.691l.072-2.402h5.238v5.26l-2.571.049c-2.018.048-2.595 0-2.69-.216Zm7.759 0c-.048-.145-.072-1.37-.048-2.691l.072-2.402h5.237v5.26l-2.57.049c-1.994.048-2.595 0-2.691-.216Zm-15.52-7.76c-.071-.168-.095-1.37-.047-2.69l.048-2.403h5.261v5.261l-2.595.048c-1.994.048-2.594 0-2.666-.216Zm7.76 0c-.048-.168-.072-1.37-.048-2.69l.072-2.403h5.238v5.261l-2.571.048c-2.018.048-2.595 0-2.69-.216Zm7.76 0c-.048-.168-.072-1.37-.048-2.69l.072-2.403h5.237v5.261l-2.57.048c-1.994.048-2.595 0-2.691-.216ZM1.897 7.011c-.071-.144-.095-1.345-.047-2.666l.048-2.402h5.261V7.18l-2.595.072c-1.994.048-2.594 0-2.666-.24Zm7.76 0c-.048-.144-.072-1.345-.048-2.666l.072-2.402h5.238V7.18l-2.571.072c-2.018.048-2.595 0-2.69-.24Zm7.76 0c-.048-.144-.072-1.345-.048-2.666l.072-2.402h5.237V7.18l-2.57.072c-1.994.048-2.595 0-2.691-.24Z"
                fill="currentColor"></path>
            </svg>
            <span class="nav-text">
              <i18n>navbar.applications</i18n>
            </span>
          </a>
            <div aria-labelledby=":r2:" class="popover position-absolute top-100 start-50 translate-middle-x top-100"
              role="tooltip">
              <div class="popover-body">
                <div class="widget-body d-flex flex-wrap">
                  <div class="text-dark" ng-if="me.bookmarkedApps.length === 0">
                    <i18n>navbar.myapps.more</i18n>
                  </div>
                  <a class="bookmarked-app" connector-lightbox-trigger="app" ng-repeat="app in me.bookmarkedApps | limitTo:6">
                    <i class="[[app.icon]]" ng-if="app.icon.indexOf('/') === -1" tooltip="[[app.displayName]]"></i>
                    <img skin-src="[[app.icon]]" ng-if="app.icon.indexOf('/') !== -1" tooltip="[[app.displayName]]" />
                  </a>
                </div>
              </div>
              <div class="popover-footer widget-footer border-top border-ghost">
                <div class="widget-footer">
                  <div class="widget-footer-action">
                    <a href="/welcome" class="link">
                      <i18n>plus</i18n>
                    </a>
                  </div>
                </div>
              </div>
            </div>
        </li>
        <li class="nav-item">
          <span ng-include="template.containers.portal.conversationUnread"></span>
        </li>
        <li class="nav-item">
          <a href="#" tooltip="navbar.help" pulsar="{ index: 5, i18n: 'portal.pulsar.help', position: 'bottom center'}"
            class="nav-link" aria-label="navbar.help" ng-if="currentLanguage == 'fr' && me.hasWorkflow('org.entcore.portal.controllers.PortalController|oldHelpEnable')">
            <i18n>help.icon</i18n>
          </a>
        </li>
        <li class="nav-item">
          <div class="dropdown">
            <button class="nav-link btn btn-naked d-md-none" type="button" aria-controls="dropdown-navbar"
              aria-expanded="false" aria-label="navbar.open.menu" ng-click="dropdownToggle = !dropdownToggle">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true" class="icon rafter-down" color="#fff">
                <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M4.012 7.871a1.5 1.5 0 0 1 2.117.141L12 14.722l5.871-6.71a1.5 1.5 0 1 1 2.258 1.976l-7 8a1.5 1.5 0 0 1-2.258 0l-7-8a1.5 1.5 0 0 1 .141-2.117Z"
                  fill="currentColor"></path>
              </svg>
            </button>
            <ul class="dropdown-menu dropdown-menu-end" id="dropdown-navbar" ng-class="{'show' : dropdownToggle}">
              <li class="nav-item" data-community ng-if="me.hasWorkflow('net.atos.entng.community.controllers.CommunityController|view')">
                <a class="nav-link dropdown-item" href="/community" i18n-title="navbar.community"
                        ng-click="ctrl.trackEvent($event, {detail:{'open':'community'} })">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true" class="icon community"><path fill="currentColor" d="M19.935 17.51c.725 0 1.348.264 1.868.792.52.529.78 1.162.78 1.898 0 .737-.26 1.37-.78 1.898-.52.529-1.135.793-1.844.793-.71 0-1.333-.264-1.869-.793a2.52 2.52 0 0 1-.78-1.922c0-.288.063-.6.19-.936l-3.997-2.931c-.773.8-1.703 1.2-2.79 1.2-1.089 0-2.019-.392-2.791-1.176-.773-.785-1.167-1.738-1.183-2.86 0-.143.024-.352.071-.624l-3.168-1.057a1.248 1.248 0 0 1-.852.337c-.378 0-.693-.129-.946-.385a1.315 1.315 0 0 1-.378-.96c0-.385.126-.698.378-.938.253-.24.568-.368.946-.384.316 0 .584.104.804.312.221.208.37.457.45.745l3.192 1.08a3.798 3.798 0 0 1 1.443-1.56 3.839 3.839 0 0 1 2.033-.577c.82 0 1.577.248 2.27.745l4.706-4.781c-.252-.48-.378-.921-.378-1.321 0-.737.26-1.37.78-1.898.52-.529 1.143-.793 1.869-.793.725 0 1.34.264 1.844.793.505.528.765 1.16.78 1.898a2.417 2.417 0 0 1-.78 1.873c-.536.513-1.159.777-1.868.793-.41 0-.844-.136-1.3-.408l-4.707 4.804c.49.705.733 1.474.733 2.307 0 .592-.134 1.177-.402 1.753l3.997 2.907c.52-.416 1.08-.624 1.679-.624Z"></path></svg>
                    
                        <span class="nav-text"><i18n>navbar.community</i18n></span>
                </a>
              </li>
              <li class="nav-item position-relative popover-trigger" id=":r3:" aria-haspopup="true"
                aria-expanded="false"
                ng-if="me.hasWorkflow('fr.openent.searchengine.controllers.SearchEngineController|view')">
                <a href="/searchengine" i18n-title="navbar.search" class="nav-link dropdown-item">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                    aria-hidden="true" class="icon search">
                    <path
                      d="M1.27 11.552a7.745 7.745 0 0 1 0-4.156c.38-1.377 1.095-2.579 2.149-3.604a7.928 7.928 0 0 1 2.716-1.777c1.02-.4 2.074-.6 3.161-.6 1.07 0 2.115.2 3.136.6 1.02.4 1.926.993 2.716 1.777a7.904 7.904 0 0 1 1.902 2.86 7.812 7.812 0 0 1 .518 3.29 7.647 7.647 0 0 1-.889 3.171c.461.129.865.36 1.21.697l4.297 4.156c.576.56.864 1.241.864 2.042 0 .801-.288 1.482-.864 2.042-.576.56-1.276.841-2.099.841-.823 0-1.523-.28-2.099-.84l-4.272-4.18a2.423 2.423 0 0 1-.74-1.178 8.302 8.302 0 0 1-3.68.84c-1.087 0-2.14-.2-3.16-.6a8.102 8.102 0 0 1-2.717-1.753 7.854 7.854 0 0 1-2.149-3.628Zm2.495-2.066c0 1.49.535 2.755 1.605 3.796 1.086 1.04 2.395 1.561 3.926 1.561 1.515 0 2.807-.52 3.877-1.561 1.07-1.041 1.613-2.307 1.63-3.796.016-1.49-.527-2.755-1.63-3.796-1.087-1.057-2.379-1.585-3.877-1.585-1.515 0-2.823.528-3.926 1.585C4.3 6.731 3.765 7.996 3.765 9.486Z"
                      fill="currentColor"></path>
                  </svg>
                  <span class="nav-text">
                    <i18n>navbar.search</i18n>
                  </span>
                </a>
                <div aria-labelledby=":r3:" class="popover position-absolute top-100 start-50 translate-middle-x"
                  role="tooltip" ng-controller="SearchPortal">
                  <div class="search-text input-group py-8 px-12">
                    <input id="my-search-input" class="form-control form-control-sm" type="text" name="my-search-input"
                      ng-model="mysearch" ng-keyup="launchSearch($event);" /><button aria-label="navbar.search"
                      class="btn btn-filled btn-primary btn-sm btn-icon btn-sm btn-search btn-sm"
                      i18n-title="navbar.search" ng-click="launchSearch('link');">
                      <span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" width="24"
                          height="24" aria-hidden="true">
                          <path fill="currentColor" fill-rule="evenodd"
                            d="M4 10a7 7 0 1 1 14 0 7 7 0 0 1-14 0Zm7-9a9 9 0 1 0 5.7 15.96 1 1 0 0 0 .24.4l4.35 4.35a1 1 0 0 0 1.42-1.42l-4.35-4.35a1 1 0 0 0-.4-.24A9 9 0 0 0 11 1Z"
                            clip-rule="evenodd"></path>
                        </svg></span>
                    </button>
                  </div>
                </div>
              </li>
              <li class="nav-item">
                <a href="/userbook/mon-compte" tooltip="navbar.myaccount"
                  pulsar="{ index: 4, i18n: 'portal.pulsar.account', position: 'bottom center'}"
                  class="nav-link dropdown-item d-none d-sm-block">
                  <div class="avatar avatar-sm rounded-circle bg-white">
                    <img data-ng-src="[[avatar ? avatar+'?thumbnail=48x48' : '']]" id="my-photo" alt="[[avatar.username]]" />
                  </div>
                  <span class="nav-text">
                    <i18n>navbar.myaccount</i18n>
                  </span>
                </a>
              </li>
              <li class="nav-item">
                <hr class="dropdown-divider" />
              </li>
              <li class="nav-item">
                <a logout tooltip="navbar.disconnect" class="nav-link dropdown-item">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                    aria-hidden="true" class="icon logout">
                    <path
                      d="M22.995 13.153c0 1.393-.29 2.722-.872 3.987a10.627 10.627 0 0 1-2.336 3.292c-.975.929-2.147 1.665-3.516 2.21-1.369.544-2.79.817-4.26.817-1.472 0-2.9-.273-4.287-.817-1.386-.545-2.55-1.281-3.49-2.21a12.338 12.338 0 0 1-2.362-3.291A8.11 8.11 0 0 1 1 13.152c0-1.634.385-3.164 1.155-4.589.77-1.425 1.848-2.634 3.234-3.627.411-.289.873-.4 1.386-.337.514.064.907.289 1.181.673.308.368.428.793.36 1.273-.07.48-.309.857-.72 1.13a6.993 6.993 0 0 0-2.155 2.426 6.383 6.383 0 0 0-.18 5.717 6.98 6.98 0 0 0 1.566 2.186c.65.609 1.428 1.097 2.335 1.466a7.498 7.498 0 0 0 2.85.552 7.31 7.31 0 0 0 2.823-.552 8.296 8.296 0 0 0 2.36-1.466 6.04 6.04 0 0 0 1.567-2.186c.359-.849.547-1.738.564-2.666 0-1.09-.256-2.107-.77-3.051-.513-.945-1.232-1.754-2.156-2.427a1.752 1.752 0 0 1-.719-1.129c-.085-.464.035-.889.36-1.273.29-.384.693-.609 1.206-.673.514-.064.967.048 1.36.337 1.386.977 2.464 2.186 3.234 3.627a9.599 9.599 0 0 1 1.155 4.589ZM13.833 2.846v8.6c0 .465-.18.866-.54 1.202-.359.336-.786.505-1.283.505-.496 0-.932-.169-1.309-.505-.376-.336-.556-.737-.539-1.201v-8.6c0-.465.18-.865.54-1.202.359-.336.795-.504 1.308-.504.514 0 .941.168 1.284.504.342.337.521.737.539 1.201Z"
                      fill="currentColor"></path>
                  </svg>
                  <span class="nav-text">
                    <i18n>navbar.disconnect</i18n>
                  </span>
                </a>
              </li>
            </ul>
          </div>
        </li>
      </ul>
    </div>
  </nav>
</header>

<div class="material main wrapper">
  <section class="main">
    <div id="directory"></div>
    <div ng-transclude class="twelve cell"></div>
  </section>
</div>

<connector-lightbox></connector-lightbox>
